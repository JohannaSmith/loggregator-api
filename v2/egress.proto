syntax = "proto3";

package loggregator.v2;

import "envelope.proto";

service Egress {
  rpc Receiver(EgressRequest) returns (stream loggregator.v2.Envelope) {}
}

message EgressRequest {
  string shard_id = 1;
  Filter filter = 2;
}

message Filter {
  string source_id = 1;

  oneof Message {
    LogFilter log = 2;
    CounterFilter counter = 3;
    GaugeFilter gauge = 4;
    TimerFilter timer = 5;
  }
}

message LogFilter {
}

message CounterFilter {
}

message GaugeFilter {
}

message TimerFilter {
}
